{"ast":null,"code":"import _objectSpread from\"/home/tb2/youtube/myprojects/careeroptions/career/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{LOGIN_SUCCESS,LOGIN_FAILED,SIGNUP_FAILED,SIGNUP_SUCCESS,AUTHENTICATION_SUCCESS,AUTHENTICATION_FAILED,LOGOUT_USER}from\"../actions/actions.types\";var initialState={access:localStorage.getItem(\"access\"),isAuthenticated:null,user:null};export default function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;var type=action.type,payload=action.payload;switch(type){case LOGIN_SUCCESS:localStorage.setItem(\"access\",payload.token);return _objectSpread(_objectSpread({},state),{},{isAuthenticated:true,access:payload.token});case LOGIN_FAILED:case LOGOUT_USER:case SIGNUP_FAILED:localStorage.removeItem(\"access\");return _objectSpread(_objectSpread({},state),{},{isAuthenticated:false,user:null});case SIGNUP_SUCCESS:return _objectSpread(_objectSpread({},state),{},{isAuthenticated:false});case AUTHENTICATION_SUCCESS:return _objectSpread(_objectSpread({},state),{},{isAuthenticated:true,access:payload.token});case AUTHENTICATION_FAILED:return _objectSpread(_objectSpread({},state),{},{isAuthenticated:false,access:null});default:return state;}}","map":{"version":3,"sources":["/home/tb2/youtube/myprojects/careeroptions/career/client/src/reducers/reducer.auth.js"],"names":["LOGIN_SUCCESS","LOGIN_FAILED","SIGNUP_FAILED","SIGNUP_SUCCESS","AUTHENTICATION_SUCCESS","AUTHENTICATION_FAILED","LOGOUT_USER","initialState","access","localStorage","getItem","isAuthenticated","user","state","action","type","payload","setItem","token","removeItem"],"mappings":"8KAAA,OACEA,aADF,CAEEC,YAFF,CAGEC,aAHF,CAIEC,cAJF,CAKEC,sBALF,CAMEC,qBANF,CAOEC,WAPF,KAQO,0BARP,CAUA,GAAMC,CAAAA,YAAY,CAAG,CACnBC,MAAM,CAAEC,YAAY,CAACC,OAAb,CAAqB,QAArB,CADW,CAEnBC,eAAe,CAAE,IAFE,CAGnBC,IAAI,CAAE,IAHa,CAArB,CAMA,cAAe,WAAuC,IAA9BC,CAAAA,KAA8B,2DAAtBN,YAAsB,IAARO,CAAAA,MAAQ,8CAC5CC,CAAAA,IAD4C,CAC1BD,MAD0B,CAC5CC,IAD4C,CACtCC,OADsC,CAC1BF,MAD0B,CACtCE,OADsC,CAGpD,OAAQD,IAAR,EACE,IAAKf,CAAAA,aAAL,CACES,YAAY,CAACQ,OAAb,CAAqB,QAArB,CAA+BD,OAAO,CAACE,KAAvC,EACA,sCACKL,KADL,MAEEF,eAAe,CAAE,IAFnB,CAGEH,MAAM,CAAEQ,OAAO,CAACE,KAHlB,GAMF,IAAKjB,CAAAA,YAAL,CACA,IAAKK,CAAAA,WAAL,CACA,IAAKJ,CAAAA,aAAL,CACEO,YAAY,CAACU,UAAb,CAAwB,QAAxB,EACA,sCACKN,KADL,MAEEF,eAAe,CAAE,KAFnB,CAGEC,IAAI,CAAE,IAHR,GAMF,IAAKT,CAAAA,cAAL,CACE,sCACKU,KADL,MAEEF,eAAe,CAAE,KAFnB,GAKF,IAAKP,CAAAA,sBAAL,CACI,sCACOS,KADP,MAEIF,eAAe,CAAE,IAFrB,CAGIH,MAAM,CAAEQ,OAAO,CAACE,KAHpB,GAMJ,IAAKb,CAAAA,qBAAL,CACI,sCACOQ,KADP,MAEIF,eAAe,CAAE,KAFrB,CAGIH,MAAM,CAAE,IAHZ,GAMJ,QACE,MAAOK,CAAAA,KAAP,CAxCJ,CA0CD","sourcesContent":["import {\n  LOGIN_SUCCESS,\n  LOGIN_FAILED,\n  SIGNUP_FAILED,\n  SIGNUP_SUCCESS,\n  AUTHENTICATION_SUCCESS,\n  AUTHENTICATION_FAILED,\n  LOGOUT_USER,\n} from \"../actions/actions.types\";\n\nconst initialState = {\n  access: localStorage.getItem(\"access\"),\n  isAuthenticated: null,\n  user: null,\n};\n\nexport default function(state = initialState, action) {\n  const { type, payload } = action;\n\n  switch (type) {\n    case LOGIN_SUCCESS:\n      localStorage.setItem(\"access\", payload.token);\n      return {\n        ...state,\n        isAuthenticated: true,\n        access: payload.token,\n      };\n\n    case LOGIN_FAILED:\n    case LOGOUT_USER:\n    case SIGNUP_FAILED:\n      localStorage.removeItem(\"access\");\n      return {\n        ...state,\n        isAuthenticated: false,\n        user: null,\n      };\n\n    case SIGNUP_SUCCESS:\n      return {\n        ...state,\n        isAuthenticated: false,\n      };\n\n    case AUTHENTICATION_SUCCESS:\n        return {\n            ...state,\n            isAuthenticated: true,\n            access: payload.token,\n        }\n\n    case AUTHENTICATION_FAILED:\n        return {\n            ...state,\n            isAuthenticated: false,\n            access: null,\n        }\n\n    default:\n      return state;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}