{"ast":null,"code":"import _regeneratorRuntime from\"/home/tb2/youtube/myprojects/careeroptions/career-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/tb2/youtube/myprojects/careeroptions/career-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{LOGIN_SUCCESS,LOGIN_FAILED,SIGNUP_FAILED,SIGNUP_SUCCESS,AUTHENTICATION_SUCCESS,AUTHENTICATION_FAILED,LOGOUT_USER}from\"./actions.types\";import axios from\"axios\";export var login=function login(username,email,password){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var config,body,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:config={header:{\"Content-Type\":\"application/json\"}};body={username:username,email:email,password:password};_context.prev=2;_context.next=5;return axios.post(\"api/userModel/login\",body,config);case 5:res=_context.sent;dispatch({type:LOGIN_SUCCESS,payload:res.data});console.log(\"used logged in\");_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);dispatch({type:LOGIN_FAILED});case 13:case\"end\":return _context.stop();}}},_callee,null,[[2,10]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var signup=function signup(username,email,password){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var config,body,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:config={header:{\"Content-Type\":\"application/json\"}};body={username:username,email:email,password:password};_context2.prev=2;_context2.next=5;return axios.post(\"api/userModel/register\",body,config);case 5:res=_context2.sent;dispatch({type:SIGNUP_SUCCESS,payload:res.data});console.log(\"user created\");_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](2);dispatch({type:SIGNUP_FAILED});case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[2,10]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var check_authenticated=function check_authenticated(){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var tokenCheck;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(localStorage.getItem(\"access\")){tokenCheck={token:localStorage.getItem(\"access\")};try{if(tokenCheck.token!=null){dispatch({type:AUTHENTICATION_SUCCESS,payload:tokenCheck});}}catch(err){dispatch({type:AUTHENTICATION_FAILED});}}else{dispatch({type:AUTHENTICATION_FAILED});}case 1:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var logout=function logout(){return function(dispatch){dispatch({type:LOGOUT_USER});};};","map":{"version":3,"sources":["/home/tb2/youtube/myprojects/careeroptions/career-master/src/actions/actions.auth.js"],"names":["LOGIN_SUCCESS","LOGIN_FAILED","SIGNUP_FAILED","SIGNUP_SUCCESS","AUTHENTICATION_SUCCESS","AUTHENTICATION_FAILED","LOGOUT_USER","axios","login","username","email","password","dispatch","config","header","body","post","res","type","payload","data","console","log","signup","check_authenticated","localStorage","getItem","tokenCheck","token","err","logout"],"mappings":"2VAAA,OACEA,aADF,CAEEC,YAFF,CAGEC,aAHF,CAIEC,cAJF,CAKEC,sBALF,CAMEC,qBANF,CAOEC,WAPF,KAQO,iBARP,CASA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAO,IAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACC,QAAD,CAAWC,KAAX,CAAkBC,QAAlB,iGAA+B,iBAAOC,QAAP,sIAC5CC,MAD4C,CACnC,CACbC,MAAM,CAAE,CACN,eAAgB,kBADV,CADK,CADmC,CAO5CC,IAP4C,CAOrC,CAAEN,QAAQ,CAARA,QAAF,CAAYC,KAAK,CAALA,KAAZ,CAAmBC,QAAQ,CAARA,QAAnB,CAPqC,uCAU9BJ,CAAAA,KAAK,CAACS,IAAN,CAAW,qBAAX,CAAkCD,IAAlC,CAAwCF,MAAxC,CAV8B,QAU1CI,GAV0C,eAYhDL,QAAQ,CAAC,CACPM,IAAI,CAAElB,aADC,CAEPmB,OAAO,CAAEF,GAAG,CAACG,IAFN,CAAD,CAAR,CAIAC,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAhBgD,iFAkBhDV,QAAQ,CAAC,CACPM,IAAI,CAAEjB,YADC,CAAD,CAAR,CAlBgD,qEAA/B,gEAAd,CAwBP,MAAO,IAAMsB,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACd,QAAD,CAAWC,KAAX,CAAkBC,QAAlB,kGAA+B,kBAAOC,QAAP,0IAC7CC,MAD6C,CACpC,CACbC,MAAM,CAAE,CACN,eAAgB,kBADV,CADK,CADoC,CAO7CC,IAP6C,CAOtC,CAAEN,QAAQ,CAARA,QAAF,CAAYC,KAAK,CAALA,KAAZ,CAAmBC,QAAQ,CAARA,QAAnB,CAPsC,yCAU/BJ,CAAAA,KAAK,CAACS,IAAN,CAAW,wBAAX,CAAqCD,IAArC,CAA2CF,MAA3C,CAV+B,QAU3CI,GAV2C,gBAWjDL,QAAQ,CAAC,CACPM,IAAI,CAAEf,cADC,CAEPgB,OAAO,CAAEF,GAAG,CAACG,IAFN,CAAD,CAAR,CAIAC,OAAO,CAACC,GAAR,CAAY,cAAZ,EAfiD,qFAiBjDV,QAAQ,CAAC,CACPM,IAAI,CAAEhB,aADC,CAAD,CAAR,CAjBiD,uEAA/B,kEAAf,CAuBP,MAAO,IAAMsB,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,mGAAM,kBAAOZ,QAAP,qIACvC,GAAIa,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAJ,CAAoC,CAC5BC,UAD4B,CACf,CAAEC,KAAK,CAAEH,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAT,CADe,CAGlC,GAAI,CACF,GAAIC,UAAU,CAACC,KAAX,EAAoB,IAAxB,CAA8B,CAC5BhB,QAAQ,CAAC,CACPM,IAAI,CAAEd,sBADC,CAEPe,OAAO,CAAEQ,UAFF,CAAD,CAAR,CAID,CACF,CAAC,MAAOE,GAAP,CAAY,CACZjB,QAAQ,CAAC,CACPM,IAAI,CAAEb,qBADC,CAAD,CAAR,CAGD,CACF,CAfD,IAeO,CACLO,QAAQ,CAAC,CACPM,IAAI,CAAEb,qBADC,CAAD,CAAR,CAGD,CApBsC,wDAAN,kEAA5B,CAuBP,MAAO,IAAMyB,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,SAAM,UAAClB,QAAD,CAAc,CACxCA,QAAQ,CAAC,CACPM,IAAI,CAAEZ,WADC,CAAD,CAAR,CAGD,CAJqB,EAAf","sourcesContent":["import {\n  LOGIN_SUCCESS,\n  LOGIN_FAILED,\n  SIGNUP_FAILED,\n  SIGNUP_SUCCESS,\n  AUTHENTICATION_SUCCESS,\n  AUTHENTICATION_FAILED,\n  LOGOUT_USER,\n} from \"./actions.types\";\nimport axios from \"axios\";\n\nexport const login = (username, email, password) => async (dispatch) => {\n  const config = {\n    header: {\n      \"Content-Type\": \"application/json\",\n    },\n  };\n\n  const body = { username, email, password };\n\n  try {\n    const res = await axios.post(\"api/userModel/login\", body, config);\n\n    dispatch({\n      type: LOGIN_SUCCESS,\n      payload: res.data,\n    });\n    console.log(\"used logged in\");\n  } catch (err) {\n    dispatch({\n      type: LOGIN_FAILED,\n    });\n  }\n};\n\nexport const signup = (username, email, password) => async (dispatch) => {\n  const config = {\n    header: {\n      \"Content-Type\": \"application/json\",\n    },\n  };\n\n  const body = { username, email, password };\n\n  try {\n    const res = await axios.post(\"api/userModel/register\", body, config);\n    dispatch({\n      type: SIGNUP_SUCCESS,\n      payload: res.data,\n    });\n    console.log(\"user created\");\n  } catch (err) {\n    dispatch({\n      type: SIGNUP_FAILED,\n    });\n  }\n};\n\nexport const check_authenticated = () => async (dispatch) => {\n  if (localStorage.getItem(\"access\")) {\n    const tokenCheck = { token: localStorage.getItem(\"access\") };\n\n    try {\n      if (tokenCheck.token != null) {\n        dispatch({\n          type: AUTHENTICATION_SUCCESS,\n          payload: tokenCheck,\n        });\n      }\n    } catch (err) {\n      dispatch({\n        type: AUTHENTICATION_FAILED,\n      });\n    }\n  } else {\n    dispatch({\n      type: AUTHENTICATION_FAILED,\n    });\n  }\n};\n\nexport const logout = () => (dispatch) => {\n  dispatch({\n    type: LOGOUT_USER,\n  });\n};\n"]},"metadata":{},"sourceType":"module"}